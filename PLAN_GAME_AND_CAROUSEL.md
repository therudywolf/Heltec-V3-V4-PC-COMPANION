# План: Поведение игры и карусели

Добавить к основному плану и учитывать при реализации.

---

## 1. Долгое нажатие на экране игры

**Как должно быть:** долгое нажатие на экране игры **не** открывает меню — оно **переводит на следующий экран** (выход из игры).

**В коде ([main.cpp](main.cpp)):** при долгом нажатии, если пользователь был на экране игры (`wasInGameOnPress`), выполнять только переход на следующий экран (`currentScreen = (currentScreen + 1) % TOTAL_SCREENS`). Не вызывать открытие меню (`inMenu = true`) для этого случая — то есть ветка «долгое нажатие → открыть меню» не должна срабатывать, когда нажатие было на экране игры.

Сейчас: при `wasInGameOnPress && duration > 1500` идёт переход на следующий экран; при `duration > 800` и `!wasInMenuOnPress` открывается меню. Значит при удержании 800–1500 ms на игре открывается меню. Нужно: для экрана игры любое долгое нажатие (например `duration > 800`) трактовать только как «следующий экран», без открытия меню. То есть при `wasInGameOnPress && duration > 800` — только смена экрана, не заходить в `else if (duration > 800) { inMenu = true; ... }`.

---

## 2. Автопрокрутка (карусель) и экран игры

**Как должно быть:** в режиме автопрокрутки экран игры **пропускается** — на него не попадаешь. Игра показывается **только при ручном пролистывании** (короткое нажатие «следующий экран»).

**В коде:** при автосмене экранов (карусель, по таймеру) при переходе на следующий экран проверять: если следующий экран — игра (например `(currentScreen + 1) % TOTAL_SCREENS == 11` или 12 в зависимости от нумерации), то увеличить счётчик ещё раз и перейти на экран после игры, то есть пропустить игру. Иначе переходить как обычно.

Пример логики:

- При срабатывании карусели: `next = (currentScreen + 1) % TOTAL_SCREENS`; если `next == GAME_SCREEN_INDEX`, то `next = (next + 1) % TOTAL_SCREENS`; затем `currentScreen = next`.

---

## 3. Итог

- **Долгое нажатие в игре** → только переход на следующий экран (меню не открывать).
- **Карусель** → при смене экрана пропускать экран игры; на игру можно попасть только вручную (короткое нажатие «дальше»).
