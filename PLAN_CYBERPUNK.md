# План: Киберпанк-глитч и вайбы

Добавить к основному плану (UI/экраны/меню) следующие пункты.

---

## 1. Глитч при переключении экранов

При смене `currentScreen` (короткое нажатие или карусель) не сразу рисовать новый экран, а показать короткий эффект «киберпанк-глитча» (3–6 кадров, ~100–200 ms):

- **Вариант A — сдвиг строк:** на 1–2 кадра нарисовать буфер с случайным горизонтальным сдвигом чётных/нечётных строк (например чётные влево на 1–3 px, нечётные вправо), затем нормальный кадр.
- **Вариант B — полосы-артефакты:** 2–3 кадра с «шумом»: залить часть экрана случайными пикселями (по горизонтальным полосам) или инвертировать горизонтальные полоски (drawColor 0/1 по строкам), потом нарисовать целевой экран.
- **Вариант C — двойная отрисовка со сдвигом:** один кадр нарисовать контент со сдвигом влево на 1–2 px, следующий — нормально (имитация «хроматической» рассинхронизации на монохроме).

Реализация в [main.cpp](main.cpp):

- Флаг/счётчик `transitionGlitchPhase` (0 = нет, 1..N = кадры глитча). При изменении `currentScreen` выставлять `transitionGlitchPhase = 5` (или 6) и в начале рисования (в `loop`, перед `drawScreen`) проверять: если `transitionGlitchPhase > 0`, вызвать `drawGlitchTransition()` и уменьшить счётчик; иначе рисовать `drawScreen(currentScreen)` как сейчас.
- Функция `drawGlitchTransition()`: в зависимости от номера кадра (или random) — нарисовать текущий или следующий экран с артефактами (сдвиг строк, полосы шума, инверсия полос). Использовать `u8g2.clearBuffer()`, затем рисовать в буфер с глитчем, затем `sendBuffer()`.

---

## 2. Киберпанк-вайбы по всей безделушке

- **Шапки экранов:** после уменьшения шапки (HEADER_H 8–9) можно рисовать под заголовком тонкую двойную линию или «зубцы» (короткие вертикальные чёрточки) для техно-стиля.
- **Рамки и блоки:** на экранах Main, Power, Disks — не только `drawFrame`, но и внутренняя вторая рамка (offset 1 px) для неонового контура (где помещается).
- **Мерцание/глитч заголовков:** раз в N секунд (например раз в 5–10 с) на одном случайном экране дать однокадровый глитч заголовка (сдвиг на 1 px влево/вправо или дублирование строки) — редко и ненавязчиво.
- **Сплэш:** после «Forest OS» / «By RudyWolf» — 1–2 кадра «шума» или сканирующих линий, затем продолжение; подпись в стиле «SYSTEM OK» или «ONLINE» мелким шрифтом в углу на втором экране сплэша (опционально).
- **Игра Wolf Runner:** при Game Over — короткий глитч (2–3 кадра полос/шума) перед показом «GAME OVER».
- **Индикатор экранов (точки внизу):** вместо статичных точек — редкое мерцание текущей точки (по таймеру каждые 1–2 с) для «живого» терминала.
- **Меню:** рамка меню — двойная линия; при переключении пункта — однокадровый сдвиг текста (опционально).

Ограничения: экран 128x64, монохром; без тяжёлой анимации (частота обновления loop ограничена). Эффекты должны быть короткими (1–5 кадров) и не мешать чтению данных.

---

## 3. Порядок внедрения

- После основных правок экранов и меню: реализовать глитч при смене экрана (п. 1).
- Затем добавить точечные вайбы: двойные линии у шапок/рамок, опционально лёгкий глитч на сплэше и при Game Over, мерцание индикатора экранов (п. 2).
